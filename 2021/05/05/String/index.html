<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>WeiXiaochen&#39;s blog</title>
	<meta name="keywords" content=""/>
	<meta name="description" content=""/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1""/>
	
        <meta name="keywords" content="" />
    
	
		
			
<link rel="stylesheet" href="/css/highlight.css">

		
			
<link rel="stylesheet" href="/css/xc.css">

		
	
<meta name="generator" content="Hexo 5.4.0"></head>
<body>
	<header>
		<nav>
			
				<a href="/">首页</a> 
			
				<a href="/archives">归档</a> 
			
				<a href="/about">关于</a> 
			
				<a href="/link">友链</a> 
			
		</div>
	</header>
	<main>
		<article>
    <div>
        <img src="https://cdn.jsdelivr.net/gh/wxc0914/image/a3625c26bc8735174100f6d487763b06.png" alt="avatar"/>
        <div>
            <div>
                WeiXiaochen
            </div>
            <div>
                2021年05月05日
            </div>
        </div>
        
            
                <a class="btn" href="/categories/Java/">
                    Java
                </a>
            
        
    </div>
    <h1>
        String
    </h1>
    <div>
        <h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><p><code>String</code>对象的内部实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// java6</span></span><br><span class="line"><span class="keyword">char</span>[]、offset、count、hash</span><br><span class="line"><span class="comment">// java7/8</span></span><br><span class="line"><span class="keyword">char</span>[]、hash</span><br><span class="line"><span class="comment">// java9</span></span><br><span class="line"><span class="keyword">byte</span>[]、coder、hash</span><br></pre></td></tr></table></figure>

<p>Java9中<code>String</code>类的<code>equals</code>方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object anObject)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> == anObject) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (anObject <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">            String aString = (String)anObject;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.coder() == aString.coder()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.isLatin1() ? StringLatin1.equals(<span class="keyword">this</span>.value, aString.value) : </span><br><span class="line">             		  StringUTF16.equals(<span class="keyword">this</span>.value, aString.value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="StingBuffer、StringBuilder"><a href="#StingBuffer、StringBuilder" class="headerlink" title="StingBuffer、StringBuilder"></a>StingBuffer、StringBuilder</h3><p><code>StringBuffer</code> 和<code>StringBuilder</code>类能够对其对象进行直接修改，他们都继承于<code>AbstractStingBuilder</code>。<code>StringBuffer</code>方法是线程安全的（采用synchronized修饰了父类方法），所以访问速度较慢。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer buffer = <span class="keyword">new</span> StringBuffer(<span class="string">&quot;hello &quot;</span>);</span><br><span class="line">buffer.append(<span class="string">&quot;world !&quot;</span>);</span><br></pre></td></tr></table></figure>
    </div>
</article>
	</main>
	<footer></footer>
	
        
            
<script src="https://cdn.bootcdn.net/ajax/libs/instantclick/3.1.0/instantclick.min.js"></script>

        
            
<script src="/js/xc.js"></script>

        
    
</body>
</html>