<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>WeiXiaochen&#39;s blog</title>
	<meta name="keywords" content=""/>
	<meta name="description" content=""/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1""/>
	
        <meta name="keywords" content="" />
    
	
		
			
<link rel="stylesheet" href="/css/highlight.css">

		
			
<link rel="stylesheet" href="/css/xc.css">

		
	
<meta name="generator" content="Hexo 5.4.0"></head>
<body>
	<header>
		<nav>
			
				<a href="/">首页</a> 
			
				<a href="/archives">归档</a> 
			
				<a href="/about">关于</a> 
			
				<a href="/link">友链</a> 
			
		</div>
	</header>
	<main>
		<article>
    <div>
        <img src="https://cdn.jsdelivr.net/gh/wxc0914/image/a3625c26bc8735174100f6d487763b06.png" alt="avatar"/>
        <div>
            <div>
                WeiXiaochen
            </div>
            <div>
                2021年04月05日
            </div>
        </div>
        
            
                <a class="btn" href="/categories/Java/">
                    Java
                </a>
            
        
    </div>
    <h1>
        反射和注解
    </h1>
    <div>
        <h2 id="Java-Reflection-反射"><a href="#Java-Reflection-反射" class="headerlink" title="Java Reflection 反射"></a>Java Reflection 反射</h2><p>能够分析类能力的程序称为反射。反射主要涉及四个pacakge：<code>java.lang.Class</code>、<code>java.lang.reflext.Field</code>、<code>java.lang.reflect.Method</code>、<code>java.lang.reflect.Cconstructor</code></p>
<h4 id="获取Class类对象"><a href="#获取Class类对象" class="headerlink" title="获取Class类对象"></a>获取Class类对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过类名获取</span></span><br><span class="line">Class&lt;Object&gt; c = Object.class;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过对象获取</span></span><br><span class="line">Class&lt;Object&gt; c = object.getClass();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过forName获取</span></span><br><span class="line">Class&lt;&gt; c = Class.forName(<span class="string">&quot;classPath&quot;</span>)；</span><br></pre></td></tr></table></figure>

<h4 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过newInstance()，本质是调用无参构造器</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过构造器创建</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="调用方法"><a href="#调用方法" class="headerlink" title="调用方法"></a>调用方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">method.invoke(object,<span class="string">&quot;args&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h2><p>注解可以对程序进行解释，同时也可以被其他程序读取。<code>@Override</code>、@<code>Deprecated</code>、@<code>SuppressWarnings</code>等都是Java中内置的注解。</p>
<h4 id="meta-annotation-元注解"><a href="#meta-annotation-元注解" class="headerlink" title="meta-annotation 元注解"></a>meta-annotation 元注解</h4><ul>
<li>@Target：用于描述注解的使用范围。</li>
<li>@Retention：用于描述注解的生命周期（<code>SOURCE</code> &lt; <code>CLASS</code> &lt; <code>RUNTIME</code>）。</li>
<li>@Document：表示是否将注解生成在Javadoc中</li>
<li>@Inherited：表示子类可以继承父类</li>
</ul>
<h4 id="自定义注解："><a href="#自定义注解：" class="headerlink" title="自定义注解："></a>自定义注解：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(value = &#123;ElementType.TYPE, ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(value = RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@interface</span> MyAnnotation &#123;</span><br><span class="line">    <span class="comment">// 注解参数：参数类型 参数名（）</span></span><br><span class="line">    <span class="function">String <span class="title">parameter</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


    </div>
</article>
	</main>
	<footer></footer>
	
        
            
<script src="https://cdn.bootcdn.net/ajax/libs/instantclick/3.1.0/instantclick.min.js"></script>

        
            
<script src="/js/xc.js"></script>

        
    
</body>
</html>