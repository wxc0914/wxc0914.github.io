---
title: 反射和注解
date: 2021-04-05 13:32:50
categories: 
- Java
tags:
---

## Java Reflection 反射

能够分析类能力的程序称为反射。反射主要涉及四个pacakge：`java.lang.Class`、`java.lang.reflext.Field`、`java.lang.reflect.Method`、`java.lang.reflect.Cconstructor`

#### 获取Class类对象

```java
// 通过类名获取
Class<Object> c = Object.class;

// 通过对象获取
Class<Object> c = object.getClass();

// 通过forName获取
Class<> c = Class.forName("classPath")；
```

#### 创建对象

```java
// 通过newInstance()，本质是调用无参构造器

// 通过构造器创建

```

#### 调用方法

```java
method.invoke(object,"args");
```

## 注解

注解可以对程序进行解释，同时也可以被其他程序读取。`@Override`、@`Deprecated`、@`SuppressWarnings`等都是Java中内置的注解。

#### meta-annotation 元注解

+ @Target：用于描述注解的使用范围。
+ @Retention：用于描述注解的生命周期（`SOURCE` < `CLASS` < `RUNTIME`）。
+ @Document：表示是否将注解生成在Javadoc中
+ @Inherited：表示子类可以继承父类

#### 自定义注解：

```java
@Target(value = {ElementType.TYPE, ElementType.METHOD})
@Retention(value = RetentionPolicy.RUNTIME)
@interface MyAnnotation {
    // 注解参数：参数类型 参数名（）
    String parameter() default "";
}
```

