---
title: 基本程序设计结构
date: 2021-05-05 13:32:50
categories: 
- Java
tags:
---

## Java介绍

JavaEE（J2EE）：Java2 Platform Enterprise Edition，Java平台的企业版。

## 数据类型

#### 1. 整型

类型|存储需求|取值范围
-|-|-
int|4字节|-2 147 483 648 ~ 2 147 486 647
short|2字节|-32 768 ~ 32 767
long|8字节|-9 223 372 036 854 775 808 ~9 223 372 036 854 775 807
byte|1字节|-128 ~ 127

关于整数的前后缀，主要分为以下四种：
+ 长整型数值有一个后缀`L`。
+ 十六进制数值有一个前缀`0x`或`0X。`
+ 八进制有一个前缀`0。`
+ 二进制有一个前缀`0b`或`0B`。

Java没有任何无符号（unsigned）形式的int、long、short、或byte类型。

#### 2. 浮点类型

类型|存储需求|取值范围
-|-|-
float|4字节|大约-3.402 823 47E+38F ~ 3.402 823 47E+38F
double|8字节|大约-1.797 693 134 862 315 70E+308 ~ 1.797 693 134 862 315 70E+308

关于浮点数的后缀：
+ float类型的数值有一个后缀`F`或`f` 。 
+ 没有后缀F的浮点数值默认为double类型，也可以添加后缀`D`或`d`。

用于表示溢出和出错情况的三个特殊的浮点数值： 
+ 正无穷大：Double.POSITIVE_INFINITY。
+ 负无穷大：Double.NEGATIVE_INFINITY。
+ NaN：不是一个数字、Double.NaN。

#### 3. Unicode和char类型

Unicode转义序列会在解析代码之前得到处理。例如`"\u0022+\u0022"`会被处理成`""+""`，也就是一个空串。所以也要注意注释里面的转义字符。例如`//\u00A0 is anewline`。

#### 4. boolean类型

不要在boolean类型与任何数值类型之间进行强制类型转换。

## 变量

在Java语言中，所有的变量在使用前必须声明。

局部变量：
+ 类的方法中的变量。
+ 局部变量是在栈上分配的。
+ 局部变量没有默认值，所以局部变量被声明后，必须经过初始化。

实例变量：
+ 访问修饰符可以修饰实例变量。
+ 实例变量在对象创建的时候创建，在对象被销毁的时候销毁。
+ 实例变量具有默认值，数值型变量的默认值是0，布尔型的默认值是false，引用类型变量的默认值是null。

类变量（静态变量）
+ 在类中以static关键字声明。
+ 静态变量在第一次被访问时创建，在程序结束时销毁。
+ 无论一个类创建了多少个对象，类只拥有类变量的一份拷贝。
+ 默认值和实例变量类似。变量的值可以在声明的时候指定，可在构造方法中指定，也静态语句块中初始化。

## 控制流程

在循环语句中，检测两个浮点数是否相等，需要格外小心。
```java
// 因为0.1无法精确地用二进制表示，所以，x将从9.999 999 999 999 98跳到10.099 999 999 999 98
for (double x = 0; x != 10; x += 0.1)
```

for each循环(JavaSE 5)：
```java
// colletction这一集合表达式必须是一个数组，或者是一个实现了`Iterable`接口的类对象
for(variable : collection) statement
```

不能在嵌套的两个块中声明同名的变量

switch case支持的变量类型：byte、short、int、char、String(JavaSE 7)

## 数组

数组是一种数据结构，用来存储同一类型的集合。一旦创建了数组，就不能再改变它的大小。

动态初始化创建数组：
```java
int[] a = new int[n];
```

静态初始化创建数组：
```java
// 标准格式
int[] a = new int[] {0, 1, 2, 3};
// 省略格式
int[] a = {0, 1, 2, 3};
```

声明多维数组：
```java
double[][] balances;
```

创建不规则数组：
```java
// 首先确定具体行数
int [][] a = new int[MAX + 1][];
// 然后确定每行的具体长度
for (int n = 0; n < NMAX; n++) {
    a[n] = new int[n + 1]；
}
```
